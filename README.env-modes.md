Runtime modes and how to run

This project supports two runtime modes: dev and gcp (cloud).

1) Dev mode (local development)

  ./scripts/up-dev.sh

  or manual
  docker compose --env-file .env.dev -f docker-compose.yml -f docker-compose.dev.yml --profile dev up -d --build

This uses .env.dev and docker-compose.dev.yml and will bind the frontend on localhost:3003.

2) GCP mode (cloud VM)

  ./scripts/up-gcp.sh <PUBLIC_IP>

  or manual
  export PUBLIC_IP=1.2.3.4
cp .env.gcp .env.gcp.local
sed -i "s|\${PUBLIC_IP}|${PUBLIC_IP}|g" .env.gcp.local
docker compose --env-file .env.gcp.local -f docker-compose.yml -f docker-compose.gcp.yml --profile gcp up -d --build

This will set HLS and MQTT endpoints to the provided PUBLIC_IP and bind host port 80 -> frontend container 3003 so the FE is reachable from outside the VM.

Notes:
- The frontend consumes runtime config from a small JS file `config.js` generated by the container entrypoint. No code changes to business logic are required; only `window.__APP_CONFIG__` is used.
- Ensure firewall rules allow port 80 and MQTT/WebSocket ports if external clients need to access them.
